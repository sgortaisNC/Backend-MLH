<?php
/**
 * Testimonial Block template.
 *
 * @param array $block The block settings and attributes.
 */

// Load values and assign defaults.
$image = get_field('image');
$contenu = !empty(get_field('contenu')) ? get_field('contenu') : 'Your quote here...';
$lien = get_field('lien');

// Create class attribute allowing for custom "className" and "align" values.
$class_name = 'exergue';
if ($image) $class_name .= " exergue--image";

if (!empty($block['className'])) {
    $class_name .= ' ' . $block['className'];
}
if (!empty($block['align'])) {
    $class_name .= ' align' . $block['align'];
}
?>

<div class="<?php echo esc_attr($class_name); ?>">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="516.791" height="517.503"
         viewBox="0 0 516.791 517.503">
        <defs>
            <clipPath id="clip-path">
                <rect id="Rectangle_4509" data-name="Rectangle 4509" width="516.791" height="517.503" fill="#fff"/>
            </clipPath>
        </defs>
        <g id="Groupe_3235" data-name="Groupe 3235" clip-path="url(#clip-path)">
            <path id="Tracé_9394" data-name="Tracé 9394"
                  d="M12.806,137.457c2.815-7.261,5.042-14.749,7.636-22.1.4-1.121.278-2.71,1.855-3.2,1.261.727,1.8,1.979,2.526,3.071,5.6,8.467,10.851,17.193,16.854,25.365,13.453,18.3,28.935,33.975,52.3,39.378,4.758,1.1,9.41,2.116,14.232,2,11.5-.284,21.85-4.123,31.369-10.464,7.244-4.828,13.381-10.851,19.625-16.884A84.231,84.231,0,0,0,173.33,136.75c4.16-7.045,7.049-14.558,6.95-22.942-.1-8.8-3.495-13.573-11.866-16.478q-16.025-5.563-32.076-11.05-31.463-10.8-62.929-21.6c-9.168-3.165-18.3-6.454-27.426-9.73-4.345-1.56-4.327-1.606-2.926-5.848,1.823-5.5,3.41-11.056,5.476-16.491,3.672-9.671,6.791-19.552,10.2-29.324C60.066-.541,60.138-.52,64.016.811q23.121,7.949,46.241,15.9Q143.6,28.163,176.938,39.608c6.25,2.156,12.663,3.9,18.6,6.879,26.35,13.247,40.5,34.572,42.025,64.085,1.009,19.553-4.572,37.5-14.066,54.335-11.562,20.5-27.72,36.8-46.614,50.566-16.595,12.092-34.863,19.975-55.289,22.767-2.865.392-5.9.015-8.616,1.385H97.081c-.446-.74-1.206-.692-1.925-.8-4.072-.584-8.178-1.007-12.207-1.81A116.922,116.922,0,0,1,15.673,198C9.743,191.182,5.413,183.331.4,175.921a2.444,2.444,0,0,1-.11-2.491c4.968-11.713,7.924-24.124,12.519-35.973"
                  transform="translate(252.23 277.876)" fill="#fff"/>
            <path id="Tracé_9395" data-name="Tracé 9395"
                  d="M259.734,126.069c.216,2.364-.878,3.038-3.121,3.031-17.506-.061-35.014-.017-52.52-.05-3.2-.005-3.355-.1-3.333-3.616.042-6.342-1.455-12.438-3.064-18.45a47.767,47.767,0,0,0-10.361-19.3c-7.419-8.43-15.666-15.956-25.549-21.457-20.093-11.186-40.269-12.409-60.5-.3A105.388,105.388,0,0,0,84.347,78.469c-8.588,7.842-16.217,16.625-21.553,27.1-3.72,7.3-6.11,15-5.045,23.351A14.3,14.3,0,0,0,67.466,141.3c13.558,5.2,27.473,9.35,41.125,14.285,18.62,6.73,37.485,12.779,56.215,19.21,9.441,3.243,18.826,6.647,28.208,10.055,3.154,1.146,3.108,1.25,2.136,4.465-2.611,8.644-6.3,16.905-8.833,25.591-2.094,7.187-4.808,14.2-7.279,21.27-1.287,3.679-1.337,3.722-4.94,2.5-10.28-3.5-20.544-7.043-30.817-10.568-20.4-7-40.856-13.862-61.194-21.047-14.215-5.021-28.806-9.034-42.486-15.539-6.975-3.318-12.949-8.139-18.684-13.1-3.469-3-5.922-7.248-8.59-11.1C1.5,151.677-1.094,133.9.377,115.591A74.447,74.447,0,0,1,6.452,91.038C9,85.365,10.89,79.5,14.254,74.069A165.29,165.29,0,0,1,41.475,40.056C55.78,26.649,71.235,14.912,89.8,7.885a116.294,116.294,0,0,1,17.246-5.228c25.269-5.309,49.695-2.626,73.32,7.71A97.276,97.276,0,0,1,197.674,20c.307.217.593.432.886.6l0,.018s53.07,30.419,61.17,105.446"
                  transform="translate(26.693 0)" fill="#fff"/>
            <path id="Tracé_9396" data-name="Tracé 9396"
                  d="M224.685,190.278a115.209,115.209,0,0,1-44.167,44.616,12.426,12.426,0,0,1-11.225.982c-18.2-6.266-36.291-12.834-54.659-18.6-.816-.258-1.683-.6-1.882-1.654.705-1.193,1.948-1.736,3.027-2.481,14.714-10.138,30.716-18.476,42.84-32.2,3.27-3.7,6.925-7.122,9.893-11.12a84.733,84.733,0,0,0,7.309-12.512c9.31-18.394,9.039-36.581-1.063-54.42A107.13,107.13,0,0,0,143.91,68.738c-6.844-4.953-14.23-8.907-22.623-10.543-6.043-1.18-11.978-1.16-17.528,2.174a5.673,5.673,0,0,0-2.224,1.908,52.978,52.978,0,0,0-6.575,14.582c-1.088,4.287-2.457,8.447-3.883,12.6-1.982,5.769-4.171,11.466-6.184,17.226-.956,2.738-1.679,5.557-2.554,8.326-2.457,7.782-5.752,15.28-8.2,23.037Q70.705,148.957,67,159.765c-1.11,3.254-3.02,6.287-3.758,9.6-1.8,8.088-5.182,15.595-7.912,23.335-1.274,3.615-1.433,3.621-5.114,2.37-11.111-3.78-22.2-7.631-33.314-11.405-5.544-1.884-11.14-3.624-16.9-6.128,3.629-8.016,5.336-16.336,8.4-24.225,3.742-9.635,6.813-19.529,10.168-29.314,3.451-10.062,6.94-20.108,10.321-30.189q3.7-11.027,7.358-22.063c2.379-7.185,5.069-14.295,7.612-21.441,4.982-13.994,12.9-25.883,24.705-35.074A69.029,69.029,0,0,1,95.778,2.157a89.677,89.677,0,0,1,42.735.91c8.555,2.2,17.023,5.058,24.481,9.489,10.264,6.092,20.787,12.184,28.676,21.584,5.607,3.178,9.183,8.518,13.363,13.1a141.359,141.359,0,0,1,24.54,36.827,114.973,114.973,0,0,1,10.3,47.082,117.659,117.659,0,0,1-15.19,59.124"
                  transform="translate(276.912 26.804)" fill="#fff"/>
            <path id="Tracé_9397" data-name="Tracé 9397"
                  d="M42.4,13.652A148.459,148.459,0,0,1,59.434,1.866c3.627-2.219,6.9-2.344,10.827-.98C88.435,7.2,106.685,13.3,124.907,19.486a3.03,3.03,0,0,1,2.21,1.737c-1.1,1.491-2.631,2.14-3.961,3.031-8.8,5.9-17.764,11.551-26.4,17.67a104.194,104.194,0,0,0-29.97,31.986C56.331,91.57,53.838,109.96,62.43,129.158a81.9,81.9,0,0,0,11.706,18.125c9.3,11.394,19.839,21.327,33.316,27.7a40.309,40.309,0,0,0,17.835,4.344c8.866-.1,13.641-3.434,16.528-11.781q6.168-17.824,12.278-35.667,5.267-15.332,10.516-30.672c3.305-9.673,6.541-19.368,9.9-29.022q4.925-14.15,10.05-28.232c1.234-3.407,1.359-3.449,4.742-2.293q23.323,7.974,46.614,16.04c3.7,1.282,3.6,1.324,2.379,5.36-2.838,9.347-6.684,18.333-9.557,27.679-3.254,10.588-7.22,20.953-10.711,31.471-3.4,10.242-7.371,20.281-10.569,30.6-2.285,7.373-5.6,14.464-7.739,21.815A125.427,125.427,0,0,1,190.293,199c-8.45,15.773-21.17,27.063-38.1,33.089-25.908,9.223-50.818,4.753-74.408-7.467C58.086,214.417,42.1,199.426,28.339,182,7.776,155.95-2.5,126.8.519,93.361a124.09,124.09,0,0,1,5.16-25.888A96.017,96.017,0,0,1,13.17,49.935c7.64-13.841,16.974-26.2,29.234-36.282"
                  transform="translate(0 253.574)" fill="#fff"/>
        </g>
    </svg>
    <div class="exergue__content">

        <?= ($contenu); ?>
        <?php if ($lien): ?>
            <a href="<?= $lien ?>" class="exergue__btn">Lire la suite</a>
        <?php endif; ?>
    </div>
    <?php if ($image) : ?>
        <figure class="exergue__image">
            <?php echo wp_get_attachment_image($image['ID'], 'full', '', array('class' => 'testimonial__img')); ?>
        </figure>
    <?php endif; ?>
</div>
